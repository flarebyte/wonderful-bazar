// Generated by CoffeeScript 1.7.1
(function() {
  var AWS, helpers;

  helpers = require('./helpers');

  AWS = helpers.AWS;

  describe('AWS.NodeHttpClient', function() {
    var http;
    http = new AWS.NodeHttpClient();
    return describe('handleRequest', function() {
      it('emits error event', function() {
        var error, req;
        error = null;
        req = new AWS.HttpRequest('http://invalid');
        runs(function() {
          return http.handleRequest(req, {}, null, function(err) {
            return error = err;
          });
        });
        waitsFor(function() {
          return error;
        });
        return runs(function() {
          return expect(error.code).toEqual('ENOTFOUND');
        });
      });
      return it('supports timeout in httpOptions', function() {
        var error, req;
        error = null;
        req = new AWS.HttpRequest('http://1.1.1.1');
        runs(function() {
          return http.handleRequest(req, {
            timeout: 1
          }, null, function(err) {
            return error = err;
          });
        });
        waitsFor((function() {
          return error;
        }), 'Timed out', 100);
        return runs(function() {
          expect(error.code).toEqual('TimeoutError');
          return expect(error.message).toEqual('Connection timed out after 1ms');
        });
      });
    });
  });

}).call(this);

//# sourceMappingURL=node_http_client.spec.map
