// Generated by CoffeeScript 1.7.1
(function() {
  var AWS, helpers;

  helpers = require('../helpers');

  AWS = helpers.AWS;

  require('../../lib/services/route53');

  describe('AWS.Route53', function() {
    var cf;
    cf = null;
    beforeEach(function() {
      return cf = new AWS.CloudFront();
    });
    return describe('createInvalidation', function() {
      return it('correctly builds the request', function() {
        var api, params, xml;
        helpers.mockHttpResponse(200, {}, '');
        api = cf.api.apiVersion;
        xml = "<InvalidationBatch xmlns=\"http://cloudfront.amazonaws.com/doc/" + api + "/\">\n  <Paths>\n    <Quantity>2</Quantity>\n    <Items>\n      <Path>path1</Path>\n      <Path>path2</Path>\n    </Items>\n  </Paths>\n  <CallerReference>abc</CallerReference>\n</InvalidationBatch>";
        params = {
          DistributionId: 'ID',
          InvalidationBatch: {
            Paths: {
              Quantity: 2,
              Items: ['path1', 'path2']
            },
            CallerReference: 'abc'
          }
        };
        return cf.createInvalidation(params, function(err, data) {
          var req;
          req = this.request.httpRequest;
          expect(req.path).toEqual("/" + api + "/distribution/ID/invalidation");
          return helpers.matchXML(req.body, xml);
        });
      });
    });
  });

}).call(this);

//# sourceMappingURL=cloudfront.spec.map
