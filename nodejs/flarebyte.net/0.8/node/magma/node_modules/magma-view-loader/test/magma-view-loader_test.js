// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  var CT, init, magma_view_loader, should, _;

  init = require("fb-custom-init");

  magma_view_loader = require('magma-view-loader');

  should = require('should');

  CT = require('magma-constant');

  _ = require('lodash');


  /*
  ======== A Handy Little Mocha Reference ========
  https://github.com/visionmedia/should.js
  https://github.com/visionmedia/mocha
   */

  describe('magma-view-loader', function() {
    describe('#extractId()', function() {
      return it('extracts an id', function() {
        return magma_view_loader.extractId("/blala/view_123456789.coffee").should.eql('123456789');
      });
    });
    describe('#hasView()', function() {
      it('checks whether a view exist', function() {
        return magma_view_loader.hasView("785703264").should.be.ok;
      });
      return it('checks whether a view does not exist', function() {
        return magma_view_loader.hasView("00000000").should.be.ko;
      });
    });
    describe('#loadView()', function() {
      it('loads an existing view', function() {
        return magma_view_loader.loadView("785703264").should.exist;
      });
      return it('does not load an unknown view', function() {
        return should.not.exist(magma_view_loader.loadView("0000"));
      });
    });
    describe('#validateAll()', function() {
      return it('validates all the views', function(done) {
        return magma_view_loader.validateAll(function(err, result) {
          if (err) {
            return done(err);
          } else {
            result.should.eql("valid");
            return done();
          }
        });
      });
    });
    return describe('#validateAllPlugins()', function() {
      return it('validates all the plugins of views', function(done) {
        return magma_view_loader.validateAllPlugins(function(err, result) {
          if (err) {
            return done(err);
          } else {
            result.should.eql("valid");
            return done();
          }
        });
      });
    });
  });

}).call(this);

//# sourceMappingURL=magma-view-loader_test.map
