- if (that.related.nodes)
  div#topics
    h3 Topics
    div(class="wordcloud")
    svg(xmlns="http://www.w3.org/2000/svg", xmlns:xlink="http://www.w3.org/1999/xlink", version="1.1", height="20em")
      defs
        linearGradient(id="grad1",x1="0%",y1="0%",x2="100%",y2="0%")
        stop(offset="0%",style="stop-color:rgb(255,255,0);stop-opacity:1")
        stop(offset="100%",style="stop-color:rgb(255,0,0);stop-opacity:1")    
      each node in that.related.nodes
        a(xlink:href="#{node.url}")
          g(transform="translate(#{node.x} #{node.y})")
            rect(x="0", y="0", width="#{node.width}", height="#{node.height}", rx="24", ry="24", fill="url(#grad1)")
            text(x="16", y="20") #{node.name}
    
      each edge in that.related.edges
        path(d="#{edge.path}",stroke="blue",stroke-width="2",fill="none")
