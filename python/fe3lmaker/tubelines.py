#!/usr/bin/env python
# encoding: utf-8
"""
transports.py

Created by Olivier Huin on 2010-02-04
Copyright (c) 2010 Flarebyte.com Limited. All rights reserved.
"""

import sys
import os
import datautils

STATUS_GREEN,STATUS_ORANGE,STATUS_RED=range(3)

entities={
"d3b10ffc-d493-49cd-b334-7cfddf15977b":('310', 'd3b10ffc-d493-49cd-b334-7cfddf15977b', 'JubileeLine', 'Jubilee line', ['Jubilee line']),
"791d69a5-f3fc-4902-88f4-65bca2c5c646":('791', '791d69a5-f3fc-4902-88f4-65bca2c5c646', 'CircleLine', 'Circle line', ['Circle line']),
"55853057-2989-4ad0-bcb1-b068df67a0c4":('558', '55853057-2989-4ad0-bcb1-b068df67a0c4', 'DistrictLine', 'District line', ['District line']),
"9bbbaf38-b92e-4e33-8e0e-f3999d161b89":('938', '9bbbaf38-b92e-4e33-8e0e-f3999d161b89', 'WaterlooCityLine', 'Waterloo & City line', ['Waterloo & City line']),
"e0763ebe-7714-44fc-a195-44392575a077":('076', 'e0763ebe-7714-44fc-a195-44392575a077', 'DocklandsLightRailway', 'Docklands Light Railway', ['Docklands Light Railway']),
"39dac5b2-1325-11df-8f93-bd5b55d89593":('395', '39dac5b2-1325-11df-8f93-bd5b55d89593', 'BakerlooLine', 'Bakerloo line', ['Bakerloo line']),
"619fc87d-0be7-406e-8333-bac66cffed29":('619', '619fc87d-0be7-406e-8333-bac66cffed29', 'MetropolitanLine', 'Metropolitan line', ['Metropolitan line']),
"293cc8a8-e947-43b7-9946-6328155f6661":('293', '293cc8a8-e947-43b7-9946-6328155f6661', 'PiccadillyLine', 'Piccadilly line', ['Piccadilly line']),
"4e1ad535-1e11-40c3-87f8-7061c68f928f":('415', '4e1ad535-1e11-40c3-87f8-7061c68f928f', 'EastLondonLine', 'East London Line', ['East London Line']),
"04982342-0c08-4506-8a89-e01649be8483":('049', '04982342-0c08-4506-8a89-e01649be8483', 'HammersmithCityLine', 'Hammersmith & City line', ['Hammersmith & City line']),
"5a7d38ad-c61a-4862-802a-0b0487a248e7":('573', '5a7d38ad-c61a-4862-802a-0b0487a248e7', 'NorthernLine', 'Northern line', ['Northern line']),
"c71ecab6-ca52-4759-bf94-7d89cdb47520":('716', 'c71ecab6-ca52-4759-bf94-7d89cdb47520', 'VictoriaLine', 'Victoria line', ['Victoria line']),
"26bc0c7e-9d33-42d2-8b85-af2bba652151":('260', '26bc0c7e-9d33-42d2-8b85-af2bba652151', 'CentralLine', 'Central line', ['Central line']),
}

tubelines_color={
"d3b10ffc-d493-49cd-b334-7cfddf15977b":"rgb(134, 143, 152)", # Jubilee line
"791d69a5-f3fc-4902-88f4-65bca2c5c646":"rgb(255, 204, 0)", # Circle line
"55853057-2989-4ad0-bcb1-b068df67a0c4":"rgb(0, 102, 51)", # District line
"9bbbaf38-b92e-4e33-8e0e-f3999d161b89":"rgb(102, 204, 204)", # Waterloo & City line
"5a7d38ad-c61a-4862-802a-0b0487a248e7":"rgb(0, 0, 0)", # Northern line
"39dac5b2-1325-11df-8f93-bd5b55d89593":"rgb(153, 102, 51)", # Bakerloo line
"619fc87d-0be7-406e-8333-bac66cffed29":"rgb(102, 0, 102)", # Metropolitan line
"293cc8a8-e947-43b7-9946-6328155f6661":"rgb(9, 79, 163)", # Piccadilly line
"4e1ad535-1e11-40c3-87f8-7061c68f928f":"#f3ba22", # East London Line
"04982342-0c08-4506-8a89-e01649be8483":"rgb(204, 153, 153)", # Hammersmith & City line
"e0763ebe-7714-44fc-a195-44392575a077":"#00a77e", # Docklands Light Railway
"c71ecab6-ca52-4759-bf94-7d89cdb47520":"rgb(0, 153, 204)", # Victoria line
"26bc0c7e-9d33-42d2-8b85-af2bba652151":"rgb(204, 51, 51)", # Central line
}

tubelines_average_speed_km_per_hour={
"d3b10ffc-d493-49cd-b334-7cfddf15977b":33.0, # Jubilee line
"791d69a5-f3fc-4902-88f4-65bca2c5c646":33.0, # Circle line
"55853057-2989-4ad0-bcb1-b068df67a0c4":33.0, # District line
"9bbbaf38-b92e-4e33-8e0e-f3999d161b89":33.0, # Waterloo & City line
"5a7d38ad-c61a-4862-802a-0b0487a248e7":33.0, # Northern line
"39dac5b2-1325-11df-8f93-bd5b55d89593":33.0, # Bakerloo line
"619fc87d-0be7-406e-8333-bac66cffed29":96.0, # Metropolitan line
"293cc8a8-e947-43b7-9946-6328155f6661":33.0, # Piccadilly line
"4e1ad535-1e11-40c3-87f8-7061c68f928f":33.0, # East London Line
"04982342-0c08-4506-8a89-e01649be8483":33.0, # Hammersmith & City line
"e0763ebe-7714-44fc-a195-44392575a077":33.0, # Docklands Light Railway
"c71ecab6-ca52-4759-bf94-7d89cdb47520":80.0, # Victoria line
"26bc0c7e-9d33-42d2-8b85-af2bba652151":33.0, # Central line
}

stations_in_lines= {
 "39dac5b2-1325-11df-8f93-bd5b55d89593": ['efb5766a-16a9-434f-8574-1b254726866d', '2c4f747a-1182-42d3-9455-a16923b20f75', '3dfe2051-c378-4afa-9826-bc94298eb01a', '5e7c3e79-ec13-4840-a499-5c1cef1a6b2f', '8ec708cb-60c6-4dfa-a66c-2d7220dc7d83', 'cebe7422-4f0d-435d-9219-0292d950967f', '78b8c3de-a903-484f-bf2c-6ce07bbdd28e', '8c78516a-b7e2-47eb-b9b5-117100c51bc2', '7f6a1eba-5fd4-43fb-9d86-b60ef44f03d4', 'e6c6ede6-efc2-4040-9876-932552ce8646', '9ea06909-e76d-407f-bbf1-06a4e63f454c', 'a7c40a0b-bb1a-46d9-8442-e7f45b8f7743', 'a2cf78d3-ee61-411e-b76d-aa7ec1c3c772', '38d6323c-663a-4f54-a58b-71cff0611d3d', '2e6585ea-25a5-4255-b312-fb33a99de249', '3e8ccac4-231c-4715-90fc-2025b412d64f', '2b655c4f-fbfb-4005-be97-38962e01a3ed', 'b8f9c445-c7c7-4541-a396-a3d66ea350c4', '8e9e65b9-127f-4442-ac1f-7d822a4462d9', 'f0a7d304-3e3f-46c8-978a-532bb28d3528', '3f6eb6d1-feab-47b9-9504-dffe13e25c15', '52c525df-4eb6-4c1b-a4e4-55285e979dfa', '767e63fc-be79-449a-a461-670f3888eb56', '8ca4bf88-8884-42eb-82b9-93c921dd3fc7', 'a4840c38-6656-41f9-92ff-2e0192e89cbe'], 
 "26bc0c7e-9d33-42d2-8b85-af2bba652151": ['64981d6a-1322-49b2-aa95-a05d6b43423e', '78e36286-e750-49ee-927a-4e2bc3134788', 'e427de05-8e0e-4bb6-99f7-81835be4bee7', '37675294-b85e-4068-a8af-ebfa88c3f58f', '87b81f55-4ebd-41fc-a8e1-0e701cb6bda1', '465b5b31-1237-4007-929b-5ffc63e19f79', '480e2906-9176-4d6a-b14b-3a966a5a4f3f', '72d3d976-272d-40ab-858f-7004cf92e4e4', '9713cb92-a9d6-4eb8-9bf9-477860fd02ab', '6ac25ebb-40be-4de4-bb86-c7db73ae823d', 'a4840c38-6656-41f9-92ff-2e0192e89cbe', 'ac632aec-da92-4b75-a0ea-3ec9f7b60aa1', 'a59bf99e-0fd1-4823-bc06-89a1bb21101a', '5af0f8f0-6783-4c15-a292-45f151ede2d2', '0b7a7fd5-81c8-4f40-b072-ed5bd74eed46', '1629ea4a-7ee7-4f0c-bb70-231721b53632', '07b7cfc5-10dd-4ff3-b46b-87a42a1d06b7', '7bc2b747-1f8c-473f-a915-f1a476d1a1b3', 'd0c57e5c-e1b4-4cee-82bc-35751a8b4625', 'ae7c6e42-5090-4910-ad23-4ec083564183', '03af5d7e-72c4-413f-a260-52c1fe5d022c', '315f9ade-a54c-458c-a85f-f9962a5c6dc7', '2ad77ab0-d4d5-414d-8d2c-fb7606669c08', 'f77ebe4b-3779-4571-8f46-d6b9e451cd51', '1e3d8c1e-1207-4030-9052-54ef0351dc62', 'e5ba2584-8519-4759-931d-056d31844a44', '391b032a-4c3c-48b7-8be2-0ccbea92b7c1', '97c4c33d-b5af-421b-aeef-b6ff98e3f1ca', '0d3810fe-24fb-40d0-92c5-804a15144341', '72af4cfa-953e-4afb-bc6c-a4f61abebee0', 'a6d5538c-8cbf-44b1-b182-021be3c5c240', 'c1736808-6ac4-4c5c-8026-eafa83f98266', '0563b078-a7da-4c64-b1b6-a56816f2e979', 'f3c7ce45-e337-4d6a-8396-6f4a243b3bbe', '861ece04-d755-4e24-948c-1990014f49e2', '25902e50-70bd-4fa6-964e-bf0154a396cd', 'c4968339-846a-4814-b66f-6168c7f2398d', 'bfb41f10-53d9-44b4-8233-e5389ab3d583', '5c366dc4-6f3a-4ca2-8175-db52f2e5ad23', 'a67bcb93-f537-428c-813e-8a257ef98d98', '364a49a3-65ad-4649-b9a0-af01a6b98920', '37b045b7-e731-4056-87e8-ac5bf4e12c4a', '5c389d95-edf6-4554-adec-654d9a1a16f8', '103fcba9-b810-4929-b013-5a50daa094ea', 'ff3b1cfb-1ea1-48af-a66d-8f1787f38598', 'fa25d9e4-e9c9-44da-ae24-ea2d2235d9f6', '28b2ee7c-7a48-44d2-b4a9-499effac5775', '2047f7d0-4ead-491d-93c9-c747a639d888', '7cb122f8-02b7-4ec6-8021-85a4ae14639e'], 
 "791d69a5-f3fc-4902-88f4-65bca2c5c646": ['ec56b880-1907-449f-b9d9-3cb93a2d0b70', '78e36286-e750-49ee-927a-4e2bc3134788', '21ca86c8-b3a9-4040-b088-a2bba3e17c7d', 'efb5766a-16a9-434f-8574-1b254726866d', '7ca7ca09-f3e4-4212-8bca-ad03d410212c', '25a32e3a-f966-4a8f-be8e-8c44573676fe', '3c1ecf94-d8e2-4e5f-8f54-645e836b3294', '2b13ebcf-2181-451d-b4b0-e53c03ae77f1', 'c2ee297b-72ee-4842-9660-fd2ed00d93a2', '42fdbaea-b1c5-4ded-b3f3-c36b67145035', 'c4968339-846a-4814-b66f-6168c7f2398d', '8c78516a-b7e2-47eb-b9b5-117100c51bc2', '30d86bee-6a66-4f65-9b47-dd2a21e5a4f8', '70ab528d-f449-49ff-a03c-33bb16bf7ab7', 'c95d8299-8911-4a67-af90-f945b8d990bb', 'b39c2218-4bd9-4c5a-ac76-9483a64e58ec', '815ea4ed-f5ee-4f5c-b3ab-3731a03eeed5', '8ec708cb-60c6-4dfa-a66c-2d7220dc7d83', 'ccffda41-ad3f-4c1f-b19d-f3dfe244ee96', '7f63805a-0964-46ad-a282-e7dc199b8685', '7dbfb563-2a49-4ede-985d-5df9e4b91e93', 'f15dee6f-5cd2-4ea1-8089-04955c76ff73', 'ed39a802-cf23-42a2-8006-cf2ab8a54048', '88392a34-b5cb-4c76-9e9d-7cfaf4fb944e', '0d8038c4-2a18-42eb-95e9-b3eba2fbd129', 'aaf9fad0-0d23-4c27-927d-79a20d43d505', '4f6eda25-7e30-45ad-80f2-9db2453d262c'], 
 "55853057-2989-4ad0-bcb1-b068df67a0c4": ['0f98d1ce-4217-4f49-9e03-8402c32d2ff1', '21ca86c8-b3a9-4040-b088-a2bba3e17c7d', '742e97bc-26b6-4294-b111-b1301e8760d8', '95b2c24a-fdf9-4cb0-b04e-4989909ffb72', 'bbed2b3a-a6d0-41f0-93af-82c7bb0c9d8b', 'f2afedc3-d882-413d-9483-f13605def449', '559326bd-543e-4933-9241-990094b932cb', 'c7dec458-047a-4c3b-b9af-46e3d491821d', '0a9a00c8-2f22-4c01-bc55-8402eb72e5b3', '42fdbaea-b1c5-4ded-b3f3-c36b67145035', 'c4968339-846a-4814-b66f-6168c7f2398d', '8c78516a-b7e2-47eb-b9b5-117100c51bc2', '0457feec-f14f-4871-a3a5-97b69ddd89ea', '7889cae9-8416-4153-aad3-66ce2e110e2b', '30d86bee-6a66-4f65-9b47-dd2a21e5a4f8', '70ab528d-f449-49ff-a03c-33bb16bf7ab7', 'c95d8299-8911-4a67-af90-f945b8d990bb', 'f97c9231-f8c8-4a52-be83-6a411f628f36', '72d3d976-272d-40ab-858f-7004cf92e4e4', '9e0c5708-2ac3-41d5-baab-56d5602b76b1', 'b95f74c7-0ccc-4a04-ad46-ae255ed14689', 'b39c2218-4bd9-4c5a-ac76-9483a64e58ec', '815ea4ed-f5ee-4f5c-b3ab-3731a03eeed5', '016338cd-a632-4ef4-af89-42e6ce3d05a5', 'f0a2bae9-93f2-4acc-af91-602c879cd8fd', '58054f33-5750-4b25-9706-5028b2e96d0b', '5feb6509-d2bc-4746-9f7e-d29225e96867', '0d2de214-c96e-4842-a10f-5fe058a90d5b', '315f9ade-a54c-458c-a85f-f9962a5c6dc7', '4335b1ca-4202-4c76-ba79-379bbbb9e9f4', 'd801bd7d-2875-45ac-a003-189e78831f5a', 'f15dee6f-5cd2-4ea1-8089-04955c76ff73', 'ed39a802-cf23-42a2-8006-cf2ab8a54048', '73b1cff3-b7ec-49c3-94da-a20d4c406f3b', '815fd4eb-ead4-4ef9-b778-c4dea749ce82', '9bd73108-ad7c-4b42-93c5-8a9d8cdd0acc', '36fac8a5-abd7-4f1f-9cd6-e6e9a5843b8a', '5799abba-8d65-47c8-b401-4c0976c68932', '0ae6e482-e472-4028-b0e4-461c6ad1f28f', '7ca7ca09-f3e4-4212-8bca-ad03d410212c', '2d04e04c-9ce2-4384-80e3-06243cb8d90b', '8ec708cb-60c6-4dfa-a66c-2d7220dc7d83', 'ccffda41-ad3f-4c1f-b19d-f3dfe244ee96', 'e4f72828-a29a-4fdd-9bea-66fecdcfa250', '23724ad1-b79e-4eb1-bc07-1c19dd5dfae9', '88392a34-b5cb-4c76-9e9d-7cfaf4fb944e', '32b3c7d2-f9a2-4d46-ba4f-1c5efb4ddeb3', '80031d6b-6327-411f-b98a-0f8124c25d86', 'b1033dcd-c1e0-4a6b-97d9-b4b9fe6bcf6e', '8eccd70b-662c-474d-b91d-5c88c03286d9', 'deed830e-f5d2-454a-b9d2-20685f742186', '249dc44e-c5e8-4803-818a-ea54725c2a9d', 'f0395015-50a0-4933-bb40-6bb4d56ddffb', '6e66b0ff-cfc1-42b3-8029-3ecad13b44ae', '0d8038c4-2a18-42eb-95e9-b3eba2fbd129', 'aaf9fad0-0d23-4c27-927d-79a20d43d505', '2fca6749-5045-4d77-a665-72d70249a5ac', '4f6eda25-7e30-45ad-80f2-9db2453d262c', '251c1166-6118-4fa3-9426-3d7b32f800d8', '7e39a3bf-1054-422f-8909-c304cdd9efe9'], 
 "4e1ad535-1e11-40c3-87f8-7061c68f928f": ['422f8cfc-311d-4325-b891-278bb9f52621', 'a14eddb7-704e-4d4f-a0d6-5105d028f128', '611cdae4-916d-43c3-aa1c-bcba08d75098', '15351ff7-4b56-4882-a4d0-c4fd315ac9ef', '0999211f-c7f4-49ec-83ba-b249aefde30e', '01f067eb-fe23-44fb-b697-cb45fb258e71', '48a452d3-6699-42fc-aa0a-d827185ecdc2', '742e97bc-26b6-4294-b111-b1301e8760d8', '0534ef61-db2a-416f-8f70-6d12bf356d95'], 
 "04982342-0c08-4506-8a89-e01649be8483": ['f97c9231-f8c8-4a52-be83-6a411f628f36', '9e0c5708-2ac3-41d5-baab-56d5602b76b1', '0f98d1ce-4217-4f49-9e03-8402c32d2ff1', '78e36286-e750-49ee-927a-4e2bc3134788', '742e97bc-26b6-4294-b111-b1301e8760d8', 'efb5766a-16a9-434f-8574-1b254726866d', '7ca7ca09-f3e4-4212-8bca-ad03d410212c', '25a32e3a-f966-4a8f-be8e-8c44573676fe', '3c1ecf94-d8e2-4e5f-8f54-645e836b3294', '2b13ebcf-2181-451d-b4b0-e53c03ae77f1', 'c2ee297b-72ee-4842-9660-fd2ed00d93a2', '95b2c24a-fdf9-4cb0-b04e-4989909ffb72', 'bbed2b3a-a6d0-41f0-93af-82c7bb0c9d8b', '72d3d976-272d-40ab-858f-7004cf92e4e4', 'b95f74c7-0ccc-4a04-ad46-ae255ed14689', '9bd73108-ad7c-4b42-93c5-8a9d8cdd0acc', '8c78516a-b7e2-47eb-b9b5-117100c51bc2', '7f63805a-0964-46ad-a282-e7dc199b8685', '7dbfb563-2a49-4ede-985d-5df9e4b91e93', '0baa84a4-8275-4f53-bc45-1476fdd5934f', 'c7dec458-047a-4c3b-b9af-46e3d491821d', 'c0eed10a-cfc3-417d-b06d-435f53af2d41', '643f9889-844f-44d4-980a-2f553a72784f', 'd60522bc-d2a5-4d89-8b52-0d236844c6ec', 'f7a34731-3bda-46e5-a10f-a9a2c0c4162a', '249dc44e-c5e8-4803-818a-ea54725c2a9d', '09bbbf1c-4b44-4300-9b7e-7da31c621afc', 'f0395015-50a0-4933-bb40-6bb4d56ddffb'], 
 "d3b10ffc-d493-49cd-b334-7cfddf15977b": ['efb5766a-16a9-434f-8574-1b254726866d', '9713cb92-a9d6-4eb8-9bf9-477860fd02ab', '6b549b5b-db83-4ffa-8ad3-baba502a92c6', '662cbbc1-1d6b-48be-b85c-140fb3c2d832', '422f8cfc-311d-4325-b891-278bb9f52621', '5c249c9c-696d-4cbd-a8a3-c87f7029566e', 'c94e833d-198e-4108-809b-ba38e1b5aba7', 'a67bc448-b939-4d1a-9d9a-840c17b6a496', 'ea843760-eb68-4308-9c84-7d5546516ce6', '2945184c-9a8d-4707-88a3-ec1bd35999b0', 'b95f74c7-0ccc-4a04-ad46-ae255ed14689', '93bcf13e-165d-4294-8c8a-434ffbdf7374', '410e92c7-e6ac-4739-90dd-0834bb8b6e83', '25ef1cc7-866a-474e-acc7-44a0d7e6bca5', '5d50982e-bd14-46bb-8de9-3761a2498794', '303e944e-a63e-4fd4-8dbe-8971d332b187', '79c291cf-6caa-469a-9b65-a6f2c8e3075c', 'd22c6041-ea25-4dd9-9546-24afcb13f472', 'ee36d2e5-cdb0-4667-b960-d5d395d1c86a', 'afdf2e47-c231-43be-bc77-5486ee74b1e5', 'ccffda41-ad3f-4c1f-b19d-f3dfe244ee96', '43b5a37c-7e3b-4b49-ac58-2f33191cdf4e', '6a4220d7-975d-4710-b069-2cf4dafc50e1', '9df5a834-3827-4a46-9fb7-c26cce6837db', 'b194c301-5369-4cd9-ae07-8e454d4ebe69', '9ea06909-e76d-407f-bbf1-06a4e63f454c', '5c389d95-edf6-4554-adec-654d9a1a16f8'], 
 "619fc87d-0be7-406e-8333-bac66cffed29": ['ec56b880-1907-449f-b9d9-3cb93a2d0b70', '78e36286-e750-49ee-927a-4e2bc3134788', '4ae3072a-10a8-4400-9ed2-127b6b5b976a', '654971d2-8531-49f5-9e0c-8ad88beee31b', 'efb5766a-16a9-434f-8574-1b254726866d', '25a32e3a-f966-4a8f-be8e-8c44573676fe', 'd22c6041-ea25-4dd9-9546-24afcb13f472', '3c1ecf94-d8e2-4e5f-8f54-645e836b3294', '2b13ebcf-2181-451d-b4b0-e53c03ae77f1', 'c2ee297b-72ee-4842-9660-fd2ed00d93a2', 'a8e021f5-0edf-408e-8e48-18fbeed57019', '0767b416-a3da-4c1c-85bf-a3e59a2657d6', 'ce94a872-77e5-44b1-adab-6f4b70e5190c', '9ab2674f-0593-4b86-8347-38109b2b23c5', 'ad4d2a18-aca2-4020-a663-80927dd2f803', '13a9b335-fdb9-44d3-bd3d-09fc64504063', '5064cba1-ec2e-416f-9153-c0273385d528', '2f0faf9b-7406-4a32-8d18-927b7af16497', 'dd74b4e2-6e32-48f9-91cf-aa23e5551688', '7f63805a-0964-46ad-a282-e7dc199b8685', '7dbfb563-2a49-4ede-985d-5df9e4b91e93', '9df5a834-3827-4a46-9fb7-c26cce6837db', '130b0d90-588d-4aad-b3a2-9d98efaf99cd', 'e5c04fad-1dfc-46c3-8e27-74a8a6b1c63e', '3edaef16-d991-46dd-a8ec-ae1bde54cf79', '2669ea4a-b267-4a8b-b2fe-25276b670c53', 'e93bad5c-e2e2-45f2-940f-35583fc357dd', 'feb73b3b-5801-43f4-af25-1cbd0a8e9d0e', 'af6b94cd-7efb-40a1-853e-e5c90607452d', 'd25453cf-7eb9-44b7-af27-250820ef3ecd', 'e789e9e2-2587-480f-b1d3-e0cf154564ca', '25c555f4-f529-4149-823e-a04c4463d524', 'ac425ff0-4c85-4dc2-875b-980714c379b8', '174ca94d-74d1-4606-9836-69aa275eb76e'], 
 "5a7d38ad-c61a-4862-802a-0b0487a248e7": ['39006e53-1040-4238-8886-b748bc899c23', '7dbfb563-2a49-4ede-985d-5df9e4b91e93', 'b09cb073-2656-4079-b8e6-757300b367bd', 'ea1f0f57-6953-428a-82ae-e2ee619ab313', '5177aa0d-3b92-4a1d-8356-3acfd80189be', 'c9cd51e3-5fff-4ce7-9502-907fe8a28c1e', 'e8f8bb83-a6b8-4b37-90dd-ca34489bf9a3', '44438768-26b6-4414-bdbd-a30055d17ced', 'cd0ae317-6fa5-4640-8971-50661b49c32f', '64981d6a-1322-49b2-aa95-a05d6b43423e', '5c249c9c-696d-4cbd-a8a3-c87f7029566e', 'c2ee297b-72ee-4842-9660-fd2ed00d93a2', 'b386afc8-3f11-4b5c-9a24-0543965ec173', '437b3160-3e03-4694-aa4d-9349e8c419fa', 'c570c2e2-1ce5-4542-8269-4dd40c07e8f3', 'f30b89ed-552a-40c9-afb5-ce64fa41ff2d', '7f6a1eba-5fd4-43fb-9d86-b60ef44f03d4', 'e65e7008-2695-4440-ab38-d7f81b7c6976', '5f45b71a-7b9a-449f-bdee-cd6262795f51', '9ac4ad96-5502-4948-a754-8558c1a59201', 'c8e337d3-3b61-4a7f-b973-686df3f7502d', '8d6deaea-002d-4bf5-beed-0c4a3f381eae', '94660c36-6039-4805-a6cb-9221905ce759', '6bf824ad-8d24-4258-9e8c-398b85dfb3c8', '34d5c090-9d83-4f39-bc46-5e4538ae2218', 'ccf87110-0f7d-4f00-b6f7-e6c1440b20db', '1f3ac254-b5cd-4317-b777-64f2432e4c7a', '5e7c3e79-ec13-4840-a499-5c1cef1a6b2f', '8ec708cb-60c6-4dfa-a66c-2d7220dc7d83', '4a018a17-22e8-4539-b41d-910e4caf4b50', 'fa04941a-9c43-4392-b0a4-43e75b3a7e82', 'd6252a91-cd1c-4076-a6c8-463e8cc8b401', '8503b2ae-5d51-44f0-9d23-2943532cf421', '74125284-3256-4527-a79d-0fddd3099af9', '24866134-afce-40c1-9341-e9284019249d', '018de108-a518-4d48-acb8-7bc2085dc28c', '57d3a7a7-5e23-447e-bb6a-cbbd12a9d635', '887a0d89-9d8b-4023-a901-86792db421ff', 'ff596b51-d851-4cdb-b6ff-3f143a90c862', '9ea06909-e76d-407f-bbf1-06a4e63f454c', '50303a28-12d5-4954-a2b3-d7f62bf80e10', 'e6fba115-a15d-4b53-8106-c0cd5f3c007f', 'ef56ae4c-6447-4907-bf07-49a13385b951', 'd6a59b2a-da2d-4860-9df7-ae60ffabec1d', '861ece04-d755-4e24-948c-1990014f49e2', '7e9b3da7-2e31-4fdf-90a0-f98cd7b0c8ed', 'd08e5786-189f-4451-916f-3c78d21e7f12', '52433503-c65c-4089-82ff-4fd1d2780f84', 'b8db5bac-3ac1-4bec-beda-69af98ebd222', '889f0300-d383-42ce-aa8c-f79d72aed49d'], 
 "293cc8a8-e947-43b7-9946-6328155f6661": ['f0a2bae9-93f2-4acc-af91-602c879cd8fd', '4335b1ca-4202-4c76-ba79-379bbbb9e9f4', 'e1d3e10a-16cd-4e75-8d6e-d9d299fba0bd', '58054f33-5750-4b25-9706-5028b2e96d0b', 'c4806aae-06ae-4c0e-bbe6-f57c358976da', '4ac60516-0e6a-47b4-898c-4a4d127a8baa', '1196b1e2-b958-4273-8c77-188a8ba4574c', 'ed5d6e00-71b2-4df5-b7b2-05dfd3a9646c', '1750f083-8e55-4cb0-aaeb-70b14bed0158', '984d0bdd-193e-4a3b-b0b3-523edea3351e', '497d910f-1ed1-4e9d-9e45-6a71f126fccc', '59f2c6ed-8120-4586-ab91-58d51304d468', '873fa51e-dbc3-4407-9249-ea14e11f6f3e', '559326bd-543e-4933-9241-990094b932cb', 'd801bd7d-2875-45ac-a003-189e78831f5a', 'c7dec458-047a-4c3b-b9af-46e3d491821d', '9aefa543-e3ff-4606-822b-b18794f4835d', '6eb88e01-0501-4962-965e-0c53d6514d15', '42a97bba-8dab-4932-8925-3cbfedd59265', '84826d24-3c8b-4fc3-9ecf-ec01c9afb2e2', 'ccffd31a-972c-40ba-903a-0e4ce0d971c6', '7dbfb563-2a49-4ede-985d-5df9e4b91e93', 'ec42cf0b-0a85-4fb6-84fe-10a41a55ef9d', 'ddb614a5-4443-4ce0-bfcd-fb13269cb902', 'ef5e3a08-aee0-4b26-9686-c699bc8d91e6', '1629ea4a-7ee7-4f0c-bb70-231721b53632', '4a018a17-22e8-4539-b41d-910e4caf4b50', '89c3fead-9427-4698-830a-df06f301690f', 'f15dee6f-5cd2-4ea1-8089-04955c76ff73', '5064cba1-ec2e-416f-9153-c0273385d528', '2f0faf9b-7406-4a32-8d18-927b7af16497', 'dd74b4e2-6e32-48f9-91cf-aa23e5551688', '88392a34-b5cb-4c76-9e9d-7cfaf4fb944e', 'c94e833d-198e-4108-809b-ba38e1b5aba7', '2f61ae2d-9ffc-4f3c-afa0-87e712df3cff', 'cebe7422-4f0d-435d-9219-0292d950967f', '9a4ec1fc-88c4-46f1-9eaf-8319d640049e', '82e21415-4000-41d4-b515-c6a64d610964', 'd168eb7a-13eb-477b-b482-c69c3b4f5dbf', 'b6f356a7-c2a4-4974-8c96-9519cbb7b839', 'e93bad5c-e2e2-45f2-940f-35583fc357dd', 'feb73b3b-5801-43f4-af25-1cbd0a8e9d0e', 'af6b94cd-7efb-40a1-853e-e5c90607452d', '2ea2857a-1d56-4fe9-a145-d6031fd660ab', '4e82f7b0-8d8c-455d-96c9-d13ebe0360c5', '36aa3d82-e972-4f11-81cc-b94415bf849f', '0faa4a5e-67b5-4e49-bd64-bdadcc8eb4b4', 'd25453cf-7eb9-44b7-af27-250820ef3ecd', '2fd3ee8f-d2df-4e94-86da-6d1cd67f1d4c', 'a0665b47-6400-476e-b569-ec68a6a7fd76', '3378c47b-ad46-4f7f-8670-0f5394af7cb2', '24fa220d-ca13-443d-9e73-8be49afd7db0'], 
 "c71ecab6-ca52-4759-bf94-7d89cdb47520": ['c5638fe6-7996-41f9-b291-3f0fcc1caeec', 'b90ea9e7-280b-479c-9610-2bdba2ce40d5', '3ac40716-c714-4851-8204-5960863c4205', 'cdea03f1-f838-4016-af3d-2c9251a3b143', '8503b2ae-5d51-44f0-9d23-2943532cf421', '34d5c090-9d83-4f39-bc46-5e4538ae2218', '7dbfb563-2a49-4ede-985d-5df9e4b91e93', '50303a28-12d5-4954-a2b3-d7f62bf80e10', '873fa51e-dbc3-4407-9249-ea14e11f6f3e', '8450af6a-dbf3-4749-811b-6676552bed4b', '2a1c5044-4b2a-48b8-bc59-830c88cd7dca', 'c94e833d-198e-4108-809b-ba38e1b5aba7', 'a4840c38-6656-41f9-92ff-2e0192e89cbe', 'aaf9fad0-0d23-4c27-927d-79a20d43d505', 'b5ef4219-5d51-49d4-8bd5-2fa1fb9e867c', '8046cf9c-5d92-47ee-b034-32205ba494c6'], 
 "9bbbaf38-b92e-4e33-8e0e-f3999d161b89": ['64981d6a-1322-49b2-aa95-a05d6b43423e', '9ea06909-e76d-407f-bbf1-06a4e63f454c'], 
 "e0763ebe-7714-44fc-a195-44392575a077": ['27545394-959e-4f16-84b1-da5a70cbea74', '0421e847-920c-442f-bd16-cb36c83f9418', '093bea1f-2abe-41bb-b0ca-1716079e6104', '9a89a50c-34ad-498a-bc81-598d58cd0d1f', '8823ac5f-5680-435b-a049-5ee40e86817e', '925a7fd8-5dc1-4620-a272-c4697d56172c', '9f80e0d8-84bb-4474-91b9-c02d59390ddc', '64981d6a-1322-49b2-aa95-a05d6b43423e', '48a452d3-6699-42fc-aa0a-d827185ecdc2', '61596bb4-4814-44a5-8607-a66b4cc14bd1', '535a3a8e-f2a4-41b2-b01e-a951947725dc', 'a9f90eac-8bda-4b0d-a62c-0abace2ecacf', '010c886c-7201-4d49-81fc-f78cecdfa1b3', '367c4cde-ffab-44df-a220-2b5c8ad298f4', '320689c7-450e-44d5-a799-0022492c1944', 'b26ff8de-7cfe-4143-8413-1d9459ef877f', 'ffcae605-fbf5-4928-9efd-2a9b18caa418', '77ebcb72-e4e5-4459-94e6-e2364e29f8b9', 'a67bc448-b939-4d1a-9d9a-840c17b6a496', 'f806f577-3afb-4101-8dec-e8e3435a9cc5', '29105288-d523-40cf-99a1-1ef83751460f', '2945184c-9a8d-4707-88a3-ec1bd35999b0', '99c7d4d2-9ed6-489f-a71c-ea012316652a', '2599c24c-28ac-460b-9c99-ccfcd68bff37', '8b275b50-6675-44dc-b9f8-154730faac04', '9021de2d-4cfd-48b5-98c1-30e002cc8f3a', '498adbf2-cab9-49d8-bff4-d35c8a0c9587', '6ad20349-f3f2-4290-8fb1-a0d4718c0d32', '68f6f208-ef36-4859-9a85-6440e04d4c63', '05da5b28-c40d-4860-92fb-6edf97f64650', '46d479d0-c2c8-4893-bf40-41721a7be205', '516edae9-110a-4f51-a6d2-383c99210de2', 'e0b9f30a-2875-4559-a814-8d2297a2266d', 'bef7f260-c351-412c-bec0-b05d82367f88', '4225000a-a83c-4db4-a906-fc32e828624b', '3347e7d7-69a0-405a-86e7-e8f3e620e5a7', '5c389d95-edf6-4554-adec-654d9a1a16f8', 'a5d9ae6f-e2a1-48a0-b671-05fc0c0376d7']}


tube_lines_slugs=datautils.create_slug_index(entities)
		
def get_tube_line_UUID(slug):
	return tube_lines_slugs.get(slug)

def get_data_as_dict(uuid,datamode="ref"):
	r = datautils.get_entity_as_dict(entities.get(uuid),datamode)
	a = {
	"color":tubelines_color.get(uuid),
	}
	r.update(a)
	return r

def get_lines_for_station(station_uuid):
	r = []
	for uuid in stations_in_lines:
		if station_uuid in stations_in_lines[uuid]:
			r.append(uuid)
	return r

def get_lines_for_station_as_dict(station_uuid):
	uuids=get_lines_for_station(station_uuid)
	if not uuids:
		return None
	r = []
	for uuid in uuids:
		r.append(get_data_as_dict(uuid))
	return r
